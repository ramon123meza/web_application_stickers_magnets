import{j as e,m as t,A as s}from"./motion-CLENUuyC.js";import{r as a,R as l,L as i,f as r}from"./vendor-CS8e_hUL.js";import{u as n,o,H as d}from"./index-BNJ4QE4q.js";import{U as c,f as m,a as x,u as h,v as p,b as u,c as g,d as j}from"./useForm-BMn35k5b.js";import{o as v,a as y}from"./logger-DvYfAkBr.js";const b=({values:s,errors:a,touched:l,onChange:i,onBlur:r,getFieldProps:n,setFieldValue:o,disabled:d=!1})=>{const h=e=>{const t="input-field";return(null==l?void 0:l[e])&&(null==a?void 0:a[e])?`${t} input-error`:(null==l?void 0:l[e])&&!(null==a?void 0:a[e])&&(null==s?void 0:s[e])?`${t} input-success`:t};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-graphite mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"fullName",...n?n("fullName"):{name:"fullName",value:(null==s?void 0:s.fullName)||"",onChange:i,onBlur:r},disabled:d,className:h("fullName"),placeholder:"John Doe",autoComplete:"name","aria-required":"true","aria-invalid":(null==l?void 0:l.fullName)&&!!(null==a?void 0:a.fullName),"aria-describedby":(null==a?void 0:a.fullName)?"fullName-error":void 0}),(null==l?void 0:l.fullName)&&(null==a?void 0:a.fullName)&&e.jsx(t.p,{id:"fullName-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.fullName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-graphite mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",...n?n("email"):{name:"email",value:(null==s?void 0:s.email)||"",onChange:i,onBlur:r},disabled:d,className:h("email"),placeholder:"john@example.com",autoComplete:"email","aria-required":"true","aria-invalid":(null==l?void 0:l.email)&&!!(null==a?void 0:a.email),"aria-describedby":(null==a?void 0:a.email)?"email-error":void 0}),(null==l?void 0:l.email)&&(null==a?void 0:a.email)&&e.jsx(t.p,{id:"email-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-graphite mb-1",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:(null==s?void 0:s.phone)||"",onChange:e=>{const t=m(e.target.value);o("phone",t)},onBlur:r,disabled:d,className:h("phone"),placeholder:"(555) 123-4567",autoComplete:"tel","aria-required":"true","aria-invalid":(null==l?void 0:l.phone)&&!!(null==a?void 0:a.phone),"aria-describedby":(null==a?void 0:a.phone)?"phone-error":void 0}),(null==l?void 0:l.phone)&&(null==a?void 0:a.phone)&&e.jsx(t.p,{id:"phone-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-graphite mb-1",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"address",...n?n("address"):{name:"address",value:(null==s?void 0:s.address)||"",onChange:i,onBlur:r},disabled:d,className:h("address"),placeholder:"123 Main Street",autoComplete:"address-line1","aria-required":"true","aria-invalid":(null==l?void 0:l.address)&&!!(null==a?void 0:a.address),"aria-describedby":(null==a?void 0:a.address)?"address-error":void 0}),(null==l?void 0:l.address)&&(null==a?void 0:a.address)&&e.jsx(t.p,{id:"address-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.address})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"apartment",className:"block text-sm font-medium text-graphite mb-1",children:["Apartment / Suite ",e.jsx("span",{className:"text-slate-gray text-xs",children:"(optional)"})]}),e.jsx("input",{type:"text",id:"apartment",...n?n("apartment"):{name:"apartment",value:(null==s?void 0:s.apartment)||"",onChange:i,onBlur:r},disabled:d,className:"input-field",placeholder:"Apt 4B, Suite 100, etc.",autoComplete:"address-line2"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-graphite mb-1",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"city",...n?n("city"):{name:"city",value:(null==s?void 0:s.city)||"",onChange:i,onBlur:r},disabled:d,className:h("city"),placeholder:"New York",autoComplete:"address-level2","aria-required":"true","aria-invalid":(null==l?void 0:l.city)&&!!(null==a?void 0:a.city),"aria-describedby":(null==a?void 0:a.city)?"city-error":void 0}),(null==l?void 0:l.city)&&(null==a?void 0:a.city)&&e.jsx(t.p,{id:"city-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.city})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-graphite mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"state",...n?n("state"):{name:"state",value:(null==s?void 0:s.state)||"",onChange:i,onBlur:r},disabled:d,className:`${h("state")} cursor-pointer`,autoComplete:"address-level1","aria-required":"true","aria-invalid":(null==l?void 0:l.state)&&!!(null==a?void 0:a.state),"aria-describedby":(null==a?void 0:a.state)?"state-error":void 0,children:[e.jsx("option",{value:"",children:"Select State"}),c.map(t=>e.jsx("option",{value:t.code,children:t.name},t.code))]}),(null==l?void 0:l.state)&&(null==a?void 0:a.state)&&e.jsx(t.p,{id:"state-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.state})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsxs("label",{htmlFor:"zip",className:"block text-sm font-medium text-graphite mb-1",children:["ZIP Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"zip",name:"zip",value:(null==s?void 0:s.zip)||"",onChange:e=>{const t=x(e.target.value);o("zip",t)},onBlur:r,disabled:d,className:h("zip"),placeholder:"10001",autoComplete:"postal-code",maxLength:5,"aria-required":"true","aria-invalid":(null==l?void 0:l.zip)&&!!(null==a?void 0:a.zip),"aria-describedby":(null==a?void 0:a.zip)?"zip-error":void 0}),(null==l?void 0:l.zip)&&(null==a?void 0:a.zip)&&e.jsx(t.p,{id:"zip-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",role:"alert",children:a.zip})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-graphite mb-1",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",value:"United States",readOnly:!0,disabled:!0,className:"input-field bg-soft-gray cursor-not-allowed",autoComplete:"country-name"}),e.jsx("p",{className:"mt-1 text-xs text-slate-gray",children:"Currently shipping to US addresses only"})]})]})},N=({onPaymentReady:s,disabled:l=!1,onPaymentDataChange:i})=>{const r="4242 4242 4242 4242",n="12/28",o="123",d="Test Customer",c="12345",[m,x]=a.useState(""),[h,p]=a.useState(""),[u,g]=a.useState(""),[j,v]=a.useState(""),[y,b]=a.useState(""),[N,f]=a.useState(!1),[w,k]=a.useState(!1);a.useEffect(()=>{const e=(()=>{const e=m.replace(/\s/g,"").length>=13,t=5===h.length&&h.includes("/"),s=u.length>=3,a=j.trim().length>=2,l=y.length>=5;return e&&t&&s&&a&&l})();k(e),i&&i({isValid:e,cardNumber:m.replace(/\s/g,""),expiry:h,cvc:u,cardholderName:j,billingZip:y,isTestData:N}),s&&s(e)},[m,h,u,j,y,N]);return e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-cool-blue/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-cool-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-graphite",children:"Payment Details"}),e.jsx("p",{className:"text-sm text-slate-gray",children:"Secure payment processing"})]})]}),e.jsx(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-700 mb-1",children:"Test Mode"}),e.jsx("p",{className:"text-sm text-amber-600 mb-2",children:"This is a test environment. Use the test card details below or enter your own."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{x(r),p(n),g(o),v(d),b(c),f(!0)},className:"px-3 py-1 text-xs bg-amber-100 text-amber-700 rounded hover:bg-amber-200 transition-colors",children:"Use Test Card"}),(m||h||u||j||y)&&e.jsx("button",{type:"button",onClick:()=>{x(""),p(""),g(""),v(""),b(""),f(!1)},className:"px-3 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:"Clear Form"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cardholderName",className:"block text-sm font-medium text-graphite mb-1",children:"Cardholder Name"}),e.jsx("input",{type:"text",id:"cardholderName",value:j,onChange:e=>v(e.target.value),disabled:l,className:"input-field "+(l?"bg-gray-50 cursor-not-allowed":""),placeholder:"Test Customer"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-graphite mb-1",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"cardNumber",value:m,onChange:e=>{x((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),s=t.match(/\d{4,16}/g),a=s&&s[0]||"",l=[];for(let i=0,r=a.length;i<r;i+=4)l.push(a.substring(i,i+4));return l.length?l.join(" "):t})(e.target.value))},disabled:l,className:"input-field pl-12 "+(l?"bg-gray-50 cursor-not-allowed":""),placeholder:"4242 4242 4242 4242",maxLength:19}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("svg",{className:"w-6 h-6 text-slate-gray",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[e.jsx("div",{className:"w-8 h-5 bg-blue-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-[8px] font-bold text-white",children:"VISA"})}),e.jsx("div",{className:"w-8 h-5 bg-red-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-[8px] font-bold text-white",children:"MC"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-graphite mb-1",children:"Expiry Date"}),e.jsx("input",{type:"text",id:"expiry",value:h,onChange:e=>{p((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.substring(0,2)+(t.length>2?"/"+t.substring(2,4):""):t})(e.target.value))},disabled:l,className:"input-field "+(l?"bg-gray-50 cursor-not-allowed":""),placeholder:"12/28",maxLength:5})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-graphite mb-1",children:"CVC"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"cvc",value:u,onChange:e=>{g(e.target.value.replace(/\D/g,"").slice(0,4))},disabled:l,className:"input-field "+(l?"bg-gray-50 cursor-not-allowed":""),placeholder:"123",maxLength:4}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx("svg",{className:"w-5 h-5 text-slate-gray",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billingZip",className:"block text-sm font-medium text-graphite mb-1",children:"Billing ZIP Code"}),e.jsx("input",{type:"text",id:"billingZip",value:y,onChange:e=>{b(e.target.value.replace(/\D/g,"").slice(0,5))},disabled:l,className:"input-field "+(l?"bg-gray-50 cursor-not-allowed":""),placeholder:"12345",maxLength:5})]})]}),e.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm text-slate-gray",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Your payment information is encrypted and secure"})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-center gap-2 text-sm text-slate-gray",children:[e.jsx("span",{children:"Powered by"}),e.jsx("div",{className:"flex items-center gap-1 font-bold text-[#635BFF]",children:e.jsxs("svg",{className:"w-10 h-4",viewBox:"0 0 60 25",fill:"currentColor",children:[e.jsx("path",{d:"M59.64 14.28h-8.06c.19 1.93 1.6 2.55 3.2 2.55 1.64 0 2.96-.37 4.05-.95v3.32a8.33 8.33 0 01-4.56 1.1c-4.01 0-6.83-2.5-6.83-7.48 0-4.19 2.39-7.52 6.3-7.52 3.92 0 5.96 3.28 5.96 7.5 0 .4-.02 1.04-.06 1.48zm-6.3-5.63c-1.03 0-1.77.82-1.9 2.24h3.74c-.09-1.4-.7-2.24-1.84-2.24z"}),e.jsx("path",{d:"M41.14 5.57h4.24v14.17h-4.24V5.57zm0-5.33h4.24v3.57h-4.24V.24zM34.7 5.57l.26 1.3c.78-.99 1.93-1.55 3.43-1.55v4.05c-.22-.04-.47-.06-.75-.06-1.18 0-2.07.39-2.69 1.16v9.27h-4.24V5.57h4z"}),e.jsx("path",{d:"M21.72 13.42v-.24c0-.81.33-1.36 1.66-1.67l1.94-.45v-.15c0-.84-.56-1.25-1.58-1.25-1.11 0-2.09.36-3 .93V6.38c.99-.55 2.26-.97 4.01-.97 3.28 0 4.8 1.55 4.8 4.65v9.68h-3.86l-.3-1.06c-.86.83-1.91 1.31-3.2 1.31-2.35 0-3.73-1.55-3.73-3.93 0-1.43.51-2.64 1.55-3.31.85-.55 1.74-.84 2.71-.84v2.38c-.97.04-1.56.46-1.56 1.25 0 .65.37 1.04.96 1.04.7 0 1.38-.4 1.84-.89v-2.27h-2.24z"}),e.jsx("path",{d:"M6.22 5.57l.26 1.04c.86-.86 2.05-1.3 3.53-1.3 2.5 0 4.42 1.34 4.42 5.45v9.98h-4.24v-9.3c0-1.46-.61-2.08-1.68-2.08-.84 0-1.54.41-2.03 1.06v10.32H2V5.57h4.22z"})]})})]})]})},f=({onSubmit:s,isLoading:a=!1,initialValues:i={}})=>{const[r,n]=l.useState(null),o={fullName:"",email:"",phone:"",address:"",apartment:"",city:"",state:"",zip:"",country:"USA",...i},d=l.useCallback(e=>{n(e)},[]),c=l.useCallback(e=>s(e,r),[s,r]),{values:m,errors:x,touched:v,isSubmitting:y,submitError:f,isValid:w,handleChange:k,handleBlur:C,handleSubmit:L,getFieldProps:M,setFieldValue:z}=h(o,e=>{const t={},s=p(e.fullName,"Full name");s.isValid||(t.fullName=s.error);const a=u(e.email);a.isValid||(t.email=a.error);const l=g(e.phone,!0);l.isValid||(t.phone=l.error);const i=p(e.address,"Street address");i.isValid||(t.address=i.error);const r=p(e.city,"City");r.isValid||(t.city=r.error);const n=p(e.state,"State");n.isValid||(t.state=n.error);const o=j(e.zip);return o.isValid||(t.zip=o.error),t},c),S=w&&(null==r?void 0:r.isValid)&&!y&&!a;return e.jsxs("form",{onSubmit:L,noValidate:!0,className:"space-y-8",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-cool-blue text-white rounded-lg flex items-center justify-center font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-graphite",children:"Shipping Information"}),e.jsx("p",{className:"text-sm text-slate-gray",children:"Where should we ship your order?"})]})]}),e.jsx(b,{values:m,errors:x,touched:v,onChange:k,onBlur:C,getFieldProps:M,setFieldValue:z,disabled:y||a})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-gray text-white rounded-lg flex items-center justify-center font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-graphite",children:"Payment"}),e.jsx("p",{className:"text-sm text-slate-gray",children:"Complete your purchase"})]})]}),e.jsx(N,{disabled:y||a,onPaymentDataChange:d})]}),f&&e.jsx(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",role:"alert",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:f})]})}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(t.button,{type:"submit",disabled:!S,whileHover:{scale:S?1.02:1},whileTap:{scale:S?.98:1},className:"btn-accent w-full py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:y||a?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Order..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Place Order"]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-sm text-slate-gray",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Your information is secure and encrypted"})]})]})]})},w=({items:a=[],subtotal:l=0,shipping:r=0,total:n=0,showEditLink:o=!0,compact:d=!1})=>{const c=0===r,m=a.reduce((e,t)=>e+t.quantity,0);return e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-soft p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-graphite",children:"Order Summary"}),o&&e.jsxs(i,{to:"/cart",className:"text-sm text-cool-blue hover:text-deep-indigo transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit"]})]}),!d&&a.length>0&&e.jsx("div",{className:"mb-4 max-h-64 overflow-y-auto",children:e.jsx(s,{children:a.map((s,a)=>e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"flex items-center gap-3 py-3 border-b border-gray-50 last:border-0",children:[e.jsx("div",{className:"w-14 h-14 flex-shrink-0 rounded-lg overflow-hidden bg-soft-gray",children:s.thumbnail?e.jsx("img",{src:s.thumbnail,alt:s.productType,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-gray",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-graphite truncate",children:s.productType}),e.jsxs("p",{className:"text-xs text-slate-gray",children:[s.size," x ",s.quantity]})]}),e.jsxs("p",{className:"text-sm font-semibold text-graphite",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))})}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-gray",children:["Items (",m,")"]}),e.jsxs("span",{className:"text-graphite",children:["$",l.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-gray",children:"Subtotal"}),e.jsx(s,{mode:"wait",children:e.jsxs(t.span,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"text-graphite font-medium",children:["$",l.toFixed(2)]},l)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-gray",children:"Shipping"}),c?e.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 font-semibold",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"FREE"]}):e.jsxs("span",{className:"text-graphite font-medium",children:["$",r.toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-slate-gray italic",children:"* Taxes calculated at checkout if applicable"})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("span",{className:"text-lg font-bold text-graphite",children:"Total"}),e.jsx(s,{mode:"wait",children:e.jsxs(t.span,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-2xl font-bold text-deep-indigo",children:["$",n.toFixed(2)]},n)})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{className:"text-sm text-slate-gray",children:"Secure 256-bit SSL Encryption"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),e.jsx("span",{className:"text-sm text-slate-gray",children:"Free Shipping on All Orders"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm text-slate-gray",children:"100% Satisfaction Guarantee"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-soft-gray rounded-lg",children:e.jsxs("p",{className:"text-xs text-slate-gray text-center",children:["Questions? Contact us at"," ",e.jsx("a",{href:"mailto:orders@rrinconline.com",className:"text-cool-blue hover:underline",children:"orders@rrinconline.com"})]})})]})},k=()=>{const s=r(),[l,c]=a.useState(!1),{items:m,getCartTotal:x,clearCart:h}=n(),{openCart:p}=o(),u=x(),g=u+0,j=[{id:"cart",label:"Cart",completed:!0},{id:"shipping",label:"Shipping",completed:!1,active:!0},{id:"payment",label:"Payment",completed:!1},{id:"confirmation",label:"Confirmation",completed:!1}];return 0===m.length?e.jsx("section",{className:"section-padding bg-soft-gray min-h-screen",children:e.jsx("div",{className:"container-custom",children:e.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md mx-auto text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-white rounded-full shadow-soft flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-slate-gray",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-graphite mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-slate-gray mb-6",children:"Add some items to your cart before checking out."}),e.jsx(i,{to:"/customize",className:"btn-primary",children:"Start Designing"})]})})}):e.jsxs(e.Fragment,{children:[e.jsxs(d,{children:[e.jsx("title",{children:"Checkout | Sticker & Magnet Lab"}),e.jsx("meta",{name:"description",content:"Complete your order for custom stickers and magnets. Free shipping on all orders!"})]}),e.jsx("section",{className:"bg-white border-b border-gray-100 py-6",children:e.jsx("div",{className:"container-custom",children:e.jsx("nav",{"aria-label":"Checkout progress",children:e.jsx("ol",{className:"flex items-center justify-center gap-2 md:gap-4",children:j.map((s,a)=>e.jsxs("li",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(t.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1*a},className:`\n                        flex items-center justify-center w-8 h-8 rounded-full text-sm font-semibold\n                        ${s.completed?"bg-green-500 text-white":s.active?"bg-cool-blue text-white":"bg-gray-200 text-slate-gray"}\n                      `,children:s.completed?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):a+1}),e.jsx("span",{className:`\n                        ml-2 text-sm hidden sm:block\n                        ${s.active?"text-graphite font-medium":"text-slate-gray"}\n                      `,children:s.label})]}),a<j.length-1&&e.jsx("div",{className:`\n                        w-8 md:w-16 h-0.5 mx-2\n                        ${s.completed?"bg-green-500":"bg-gray-200"}\n                      `})]},s.id))})})})}),e.jsx("section",{className:"section-padding bg-soft-gray",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2",children:[e.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 text-cool-blue hover:text-deep-indigo transition-colors mb-6",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"View Cart"]}),e.jsx(f,{onSubmit:async(e,t)=>{c(!0);const a=`SLMAG-${Date.now()}-${Math.random().toString(36).substr(2,4).toUpperCase()}`;v.info("Starting order submission",{orderNumber:a,itemCount:m.length,total:g,hasPaymentData:!!t});try{const l={orderId:a,customerInfo:{fullName:e.fullName,email:e.email,phone:e.phone},shippingAddress:{fullName:e.fullName,address:e.address,apartment:e.apartment||"",city:e.city,state:e.state,zip:e.zip,country:e.country||"USA"},items:m.map(e=>({productType:e.productType,productName:e.productName,size:e.size,shape:e.shape,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice,imageUrl:e.imageUrl,instructions:e.instructions||""})),subtotal:u,shipping:0,total:g,paymentInfo:{method:"test_card",isTestData:(null==t?void 0:t.isTestData)||!1,last4:(null==t?void 0:t.cardNumber)?t.cardNumber.slice(-4):"4242"},orderDate:(new Date).toISOString(),status:"pending"};v.info("Submitting order to API",{orderData:l});const i=await y.createOrder(l);if(!i.success)throw new Error(i.error||"Failed to create order");return v.info("Order submitted successfully",{orderNumber:a,response:i}),h(),s("/thank-you",{state:{orderNumber:a,orderDetails:{items:m,shipping:e,subtotal:u,total:g,orderResponse:i}}}),{success:!0}}catch(l){throw v.error("Order submission failed",{orderNumber:a,error:l.message},l),new Error(`Failed to process order: ${l.message}`)}finally{c(!1)}},isLoading:l})]}),e.jsx(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-1",children:e.jsx(w,{items:m,subtotal:u,shipping:0,total:g,showEditLink:!0})})]})})}),e.jsx("section",{className:"bg-white py-6 border-t border-gray-100",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-slate-gray",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{children:"Secure Checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),e.jsx("span",{children:"Free Shipping"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{children:"Satisfaction Guaranteed"})]})]})})})]})};export{k as default};
